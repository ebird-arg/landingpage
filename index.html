<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eBird Argentina</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de Font Awesome para íconos de redes sociales -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Fuente Inter para una mejor legibilidad */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #36824B; /* Un gris claro para el fondo */
        }
        /* Estilos para las tarjetas de sección */
        .section-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
        }
        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        /* Estilos para los botones de noticias */
        .news-button {
            transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        .news-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        /* Estilos específicos para la imagen de la tarjeta de sección */
        .section-image-container {
            height: 180px; /* Altura fija para el contenedor de la imagen */
            overflow: hidden; /* Asegura que la imagen no se desborde */
            border-top-left-radius: 0.75rem; /* rounded-xl */
            border-top-right-radius: 0.75rem; /* rounded-xl */
        }
        .section-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Cubre el área manteniendo el aspecto */
        }
        /* Estilos para los iconos de redes sociales en el perfil */
        .profile-social-icon {
            transition: color 0.2s ease-in-out;
        }
        .profile-social-icon:hover {
            color: #3b82f6; /* Color azul de Tailwind */
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-8 px-4">
    <main class="w-full max-w-2xl px-4">
        <!-- Sección de Perfil (estilo Linktree) -->
        <section class="text-center mb-10 p-6 bg-white rounded-xl shadow-lg">
            <img src="./img/eBirdArg-logo.png" alt="Foto de Perfil eBird Argentina" class="w-32 h-32 rounded-full object-contain mx-auto mb-4 shadow-md border-4 border-white">
            <!-- <h1 class="text-3xl font-extrabold text-gray-900 mb-2">eBird Argentina</h1>  -->
           <p class="text-sm text-gray-600 mb-6">Somos una plataforma de ciencia ciudadana, administrada por <a href="https://www.birds.cornell.edu/home/" target="_blank" class="text-blue-500 hover:underline">Cornell Lab of Ornithology</a> y <a href="https://www.avesargentinas.org.ar/" target="_blank" class="text-blue-500 hover:underline">Aves Argentinas</a> para compartir y acceder a registros de aves en Argentina</p>
            <div class="flex justify-center space-x-6">
                <a href="https://www.instagram.com/ebirdargentina" target="_blank" class="profile-social-icon text-gray-700 hover:text-pink-600">
                    <i class="fab fa-instagram text-3xl"></i>
                </a>
                <a href="https://www.facebook.com/ebirdargentina" target="_blank" class="profile-social-icon text-gray-700 hover:text-blue-700">
                    <i class="fab fa-facebook-f text-3xl"></i>
                </a>
                <a href="https://www.youtube.com/ebirdargentina" target="_blank" class="profile-social-icon text-gray-700 hover:text-red-600">
                    <i class="fab fa-youtube text-3xl"></i>
                </a>
                <a href="https://open.spotify.com/show/0XYA3Tj7t0WMgD2jACBNd0" target="_blank" class="profile-social-icon text-gray-700 hover:text-red-600">
                    <i class="fab fa-spotify text-3xl"></i>
                </a>
                <a href="https://www.ebird.org/argentina" target="_blank" class="profile-social-icon text-gray-700 hover:text-green-600">
                    <i class="fas fa-link text-3xl"></i> <!-- Icono genérico para eBird u otro enlace principal -->
                </a>
            </div>
        </section>

        <!-- Sección de Noticias/Posteos Importantes -->
        <section class="mb-10">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Noticias Destacadas</h2>
            <!-- Cambiado a grid de 2 columnas en md y superior, 1 columna en pantallas pequeñas -->
            <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Las noticias se cargarán aquí dinámicamente -->
            </div>
        </section>

        <!-- Sección de Publicaciones Fijas (formato tarjeta) -->
        <section>
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Nuestras Secciones</h2>
            <div id="sections-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Las secciones se cargarán aquí dinámicamente -->
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const newsContainer = document.getElementById('news-container');
            const sectionsContainer = document.getElementById('sections-container');

            // Función para cargar el contenido de un archivo de texto
            async function loadContent(filePath) {
                try {
                    const response = await fetch(filePath);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return await response.text();
                } catch (error) {
                    console.error(`Error al cargar el archivo ${filePath}:`, error);
                    return null;
                }
            }

            // Cargar y mostrar noticias
            async function loadNews() {
                const newsText = await loadContent('./news.txt'); // Asume un archivo news.txt
                if (newsText) {
                    const lines = newsText.trim().split('\n');
                    lines.forEach(line => {
                        const [title, link, imageUrl] = line.split('|');
                        if (title && link) {
                            const newsButton = document.createElement('a');
                            newsButton.href = link;
                            newsButton.target = "_blank"; // Abrir en una nueva pestaña
                            newsButton.className = 'news-button flex items-center bg-white rounded-xl shadow-md p-4 hover:bg-gray-100';
                            newsButton.innerHTML = `
                                <img src="${imageUrl || 'https://placehold.co/60x60/CCCCCC/FFFFFF?text=News'}" alt="${title}" class="w-16 h-16 rounded-lg object-cover mr-4 shadow-sm">
                                <span class="text-lg font-medium text-gray-800">${title}</span>
                            `;
                            newsContainer.appendChild(newsButton);
                        }
                    });
                } else {
                    newsContainer.innerHTML = '<p class="text-red-500 text-center">No se pudieron cargar las noticias. Inténtalo de nuevo más tarde.</p>';
                }
            }

            // Cargar y mostrar secciones fijas
            async function loadSections() {
                const sectionsText = await loadContent('./sections.txt');
                if (sectionsText) {
                    const lines = sectionsText.trim().split('\n');
                    lines.forEach(line => {
                        const [title, description, link, imageUrl] = line.split('|');
                        if (title && description && link) {
                            const card = document.createElement('div');
                            // Clases para la tarjeta principal: borde, sombra, esquinas redondeadas, flexbox
                            card.className = 'section-card bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col items-center text-center transform hover:scale-105';
                            card.innerHTML = `
                                <div class="section-image-container w-full mb-4">
                                    <img src="${imageUrl || 'https://placehold.co/400x180/CCCCCC/FFFFFF?text=Imagen+Seccion'}" alt="${title}" class="rounded-t-xl">
                                </div>
                                <div class="p-6 pt-0 flex flex-col items-center text-center">
                                    <h2 class="text-2xl font-semibold text-gray-800 mb-2">${title}</h2>
                                    <p class="text-gray-600">${description}</p>
                                </div>
                            `;
                            card.addEventListener('click', () => {
                                window.location.href = link;
                            });
                            sectionsContainer.appendChild(card);
                        }
                    });
                } else {
                    sectionsContainer.innerHTML = '<p class="text-red-500 text-center">No se pudieron cargar las secciones. Inténtalo de nuevo más tarde.</p>';
                }
            }

            loadNews();
            loadSections();
        });
    </script>
</body>
</html>
